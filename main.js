(()=>{"use strict";var e=document.querySelector("#card-template").content.querySelector(".places__item"),t=function(t,n,r,o){var c=e.cloneNode(!0),u=c.querySelector(".card__image"),p=c.querySelector(".card__title"),i=c.querySelector(".card__delete-button"),a=c.querySelector(".card__like-button"),s=c.querySelector(".card__image");return u.src=t.link,u.alt="Картинка с ".concat(t.name),p.textContent=t.name,i.addEventListener("click",(function(){return n(i,".card")})),a.addEventListener("click",(function(){return r(a)})),s.addEventListener("click",(function(){return o(u.src,u.alt)})),c},n=function(e,t){return e.closest(t).remove()},r=function(e){return e.classList.toggle("card__like-button_is-active")},o=null,c=function(e){"Escape"===e.key&&p(o)},u=function(e){e.classList.add("popup_is-animated"),setTimeout((function(){return e.classList.add("popup_is-opened")}),100),document.addEventListener("keydown",c),o=e},p=function(e){e.closest(".popup").classList.remove("popup_is-opened"),setTimeout((function(){return e.closest(".popup").classList.remove("popup_is-animated")}),1e3),document.removeEventListener("keydown",c),o=null},i=document.querySelector(".profile__edit-button"),a=document.querySelector(".profile__add-button"),s=document.querySelectorAll(".popup__close"),d=document.querySelectorAll(".popup"),l=document.querySelector(".popup_type_edit"),_=document.querySelector(".popup_type_new-card"),m=document.querySelector(".popup_type_image"),y=m.querySelector(".popup__image"),f=m.querySelector(".popup__caption"),v=document.forms.edit_profile,k=document.forms.new_place,q=v.querySelector(".popup__input_type_name"),S=v.querySelector(".popup__input_type_description"),g=document.querySelector(".profile__title"),L=document.querySelector(".profile__description"),E=k.querySelector(".popup__input_type_card-name"),h=k.querySelector(".popup__input_type_url"),b=document.querySelector(".places__list"),x=function(e,t){u(m),y.setAttribute("src",e),y.setAttribute("alt",t),f.textContent=t};[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){b.append(t(e,n,r,x))})),i.addEventListener("click",(function(){q.value=g.textContent,S.value=L.textContent,u(l)})),a.addEventListener("click",(function(){u(_)})),v.addEventListener("submit",(function(e){e.preventDefault();var t=q.value,n=S.value;g.textContent=t,L.textContent=n,p(e.target)})),k.addEventListener("submit",(function(e){e.preventDefault();var o={name:""+E.value,link:""+h.value};b.prepend(t(o,n,r,x)),k.reset(),p(e.target)})),d.forEach((function(e){e.addEventListener("click",(function(t){t.target===e&&p(t.target)}))})),s.forEach((function(e){e.addEventListener("click",(function(e){return p(e.target)}))}))})();